{"version":3,"file":"index.js","sources":["../src/js/markup-tasks.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export function createTask({id, title, description}) {\n  return `\n  <li class=\"task-list-item\" data-id=\"${id}\">\n    <button class=\"task-list-item-btn\">Delete</button>\n    <h3>${title}</h3>\n    <p>${description}</p>\n</li>`\n}","export default {\n    taskList: document.querySelector('.tasks-list'),\n    formRef: document.querySelector('.header-form')\n}","import { createTask } from \"./markup-tasks\";\nimport refs from \"./refs\";\n\nexport function initTasks(tasks) {\n  const markupList = tasks.map(createTask).join('');\n  refs.taskList.insertAdjacentHTML('beforeend', markupList);\n}","const THEME_KEY = 'theme';\n\nexport function applySavedTheme() {\n  const savedTheme = localStorage.getItem(THEME_KEY);\n  document.body.classList.remove('theme-light', 'theme-dark');\n  document.body.classList.add(savedTheme || 'theme-light');\n}\n\nexport function setupThemeToggle() {\n  const themeToggleBtn = document.getElementById('themeToggle');\n\n  themeToggleBtn.addEventListener('click', () => {\n    const isLight = document.body.classList.contains('theme-light');\n\n    document.body.classList.toggle('theme-light', !isLight);\n    document.body.classList.toggle('theme-dark', isLight);\n\n    const newTheme = isLight ? 'theme-dark' : 'theme-light';\n    localStorage.setItem(THEME_KEY, newTheme);\n  });\n}\n","import { nanoid } from 'nanoid';\n\nimport { createTask } from './js/markup-tasks';\n\nimport { initTasks } from './js/render-tasks';\n\nimport refs from './js/refs';\n\nimport { applySavedTheme, setupThemeToggle } from './js/theme-switcher.js';\n\napplySavedTheme();   \n\nconst TASKS_KEY = 'tasks';\nlet tasks = JSON.parse(localStorage.getItem(TASKS_KEY)) || [];\n\nrefs.formRef.addEventListener('submit', handleSubmit);\n\nrefs.taskList.addEventListener('click', handleDelete);\n\nfunction handleDelete(event) {\n  if (!event.target.classList.contains('task-list-item-btn')) return;\n\n  const btnDelete = event.target;\n  const parentLi = btnDelete.closest('li');\n  const id = parentLi.dataset.id;\n\n  tasks = tasks.filter(task => task.id !== id);\n  localStorage.setItem(TASKS_KEY, JSON.stringify(tasks));\n\n  parentLi.remove();\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const title = event.target.elements.taskName;\n\n  const description = event.target.elements.taskDescription;\n\n  const newTask = {\n    id: nanoid(),\n    title: title.value.trim(),\n    description: description.value.trim()\n  }\n\n  tasks.push(newTask);\n\n  localStorage.setItem(TASKS_KEY, JSON.stringify(tasks));\n\n  const markup = createTask(newTask);\n  refs.taskList.insertAdjacentHTML('beforeend', markup);\n  console.log(markup);\n}\n\ninitTasks(tasks);\n\nsetupThemeToggle();   \n\n"],"names":["createTask","id","title","description","refs","initTasks","tasks","markupList","THEME_KEY","applySavedTheme","savedTheme","setupThemeToggle","isLight","newTheme","TASKS_KEY","handleSubmit","handleDelete","event","parentLi","task","newTask","nanoid","markup"],"mappings":"svBAAO,SAASA,EAAW,CAAC,GAAAC,EAAI,MAAAC,EAAO,YAAAC,CAAW,EAAG,CACnD,MAAO;AAAA,wCAC+BF,CAAE;AAAA;AAAA,UAEhCC,CAAK;AAAA,SACNC,CAAW;AAAA,MAEpB,CCPA,MAAeC,EAAA,CACX,SAAU,SAAS,cAAc,aAAa,EAC9C,QAAS,SAAS,cAAc,cAAc,CAClD,ECAO,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAaD,EAAM,IAAIN,CAAU,EAAE,KAAK,EAAE,EAChDI,EAAK,SAAS,mBAAmB,YAAaG,CAAU,CAC1D,CCNA,MAAMC,EAAY,QAEX,SAASC,GAAkB,CAChC,MAAMC,EAAa,aAAa,QAAQF,CAAS,EACjD,SAAS,KAAK,UAAU,OAAO,cAAe,YAAY,EAC1D,SAAS,KAAK,UAAU,IAAIE,GAAc,aAAa,CACzD,CAEO,SAASC,GAAmB,CACV,SAAS,eAAe,aAAa,EAE7C,iBAAiB,QAAS,IAAM,CAC7C,MAAMC,EAAU,SAAS,KAAK,UAAU,SAAS,aAAa,EAE9D,SAAS,KAAK,UAAU,OAAO,cAAe,CAACA,CAAO,EACtD,SAAS,KAAK,UAAU,OAAO,aAAcA,CAAO,EAEpD,MAAMC,EAAWD,EAAU,aAAe,cAC1C,aAAa,QAAQJ,EAAWK,CAAQ,CAC5C,CAAG,CACH,CCVAJ,IAEA,MAAMK,EAAY,QAClB,IAAIR,EAAQ,KAAK,MAAM,aAAa,QAAQQ,CAAS,CAAC,GAAK,GAE3DV,EAAK,QAAQ,iBAAiB,SAAUW,CAAY,EAEpDX,EAAK,SAAS,iBAAiB,QAASY,CAAY,EAEpD,SAASA,EAAaC,EAAO,CAC3B,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,OAG5D,MAAMC,EADYD,EAAM,OACG,QAAQ,IAAI,EACjChB,EAAKiB,EAAS,QAAQ,GAE5BZ,EAAQA,EAAM,OAAOa,GAAQA,EAAK,KAAOlB,CAAE,EAC3C,aAAa,QAAQa,EAAW,KAAK,UAAUR,CAAK,CAAC,EAErDY,EAAS,OAAM,CACjB,CAEA,SAASH,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,SAE9Bd,EAAcc,EAAM,OAAO,SAAS,gBAEpCG,EAAU,CACd,GAAIC,EAAQ,EACZ,MAAOnB,EAAM,MAAM,KAAM,EACzB,YAAaC,EAAY,MAAM,KAAM,CACtC,EAEDG,EAAM,KAAKc,CAAO,EAElB,aAAa,QAAQN,EAAW,KAAK,UAAUR,CAAK,CAAC,EAErD,MAAMgB,EAAStB,EAAWoB,CAAO,EACjChB,EAAK,SAAS,mBAAmB,YAAakB,CAAM,EACpD,QAAQ,IAAIA,CAAM,CACpB,CAEAjB,EAAUC,CAAK,EAEfK,EAAkB"}